import {DotLottieWorker,DotLottie}from'@lottiefiles/dotlottie-web';import {useState,useRef,useEffect,useCallback}from'react';import {jsx}from'react/jsx-runtime';var p=({animationId:o,autoplay:B,backgroundColor:m,className:T,createDotLottie:E,data:s,dotLottieRefCallback:W,loop:D,mode:d,playOnHover:b,renderConfig:y,segment:n,speed:k,src:f,style:S,themeData:w,themeId:l,useFrameInterpolation:g,workerId:h,...R})=>{let[r,v]=useState(null),c=useRef(null),t=useRef(null),C=useRef(W),P={speed:k,mode:d,loop:D,useFrameInterpolation:g,segment:n,backgroundColor:m,autoplay:B,themeId:l,workerId:h,src:f,data:s,renderConfig:y},a=useRef(P);C.current=W,t.current=r,a.current=P,useEffect(()=>{typeof C.current=="function"&&r&&C.current(r);},[r]);let O=useCallback(i=>{if(c.current=i,i){let u=E({...a.current,canvas:i});v(u);}else r?.destroy(),v(null);},[]);return useEffect(()=>{let i=u=>{b&&(u.type==="mouseenter"&&t.current?.play(),u.type==="mouseleave"&&t.current?.pause());};return c.current?.addEventListener("mouseenter",i),c.current?.addEventListener("mouseleave",i),()=>{c.current?.removeEventListener("mouseenter",i),c.current?.removeEventListener("mouseleave",i);}},[b]),useEffect(()=>()=>{r&&(r.destroy(),v(null));},[r]),useEffect(()=>{t.current?.setSpeed(k??1);},[k]),useEffect(()=>{t.current?.setMode(d??"forward");},[d]),useEffect(()=>{t.current?.setLoop(D??!1);},[D]),useEffect(()=>{t.current?.setUseFrameInterpolation(g??!0);},[g]),useEffect(()=>{typeof n?.[0]=="number"&&typeof n[1]=="number"&&t.current?.setSegment(n[0],n[1]);},[n]),useEffect(()=>{t.current?.setBackgroundColor(m??"");},[m]),useEffect(()=>{t.current?.setRenderConfig(y??{});},[JSON.stringify(y)]),useEffect(()=>{typeof s!="string"&&typeof s!="object"||t.current?.load({data:s,...a.current});},[s]),useEffect(()=>{typeof f=="string"&&t.current?.load({src:f,...a.current});},[f]),useEffect(()=>{t.current?.setMarker(R.marker??"");},[R.marker]),useEffect(()=>{t.current?.loadAnimation(o??"");},[o]),useEffect(()=>{typeof l=="string"&&t.current?.setTheme(l);},[l]),useEffect(()=>{t.current?.setThemeData(w??"");},[w]),jsx("div",{className:T,...!T&&{style:{width:"100%",height:"100%",lineHeight:0,...S}},children:jsx("canvas",{ref:O,style:{width:"100%",height:"100%"},...R})})};var H=o=>new DotLottie(o),Z=o=>jsx(p,{...o,createDotLottie:H});var A=o=>new DotLottieWorker(o),tt=o=>jsx(p,{...o,createDotLottie:A});var it=o=>{DotLottieWorker.setWasmUrl(o),DotLottie.setWasmUrl(o);};export{Z as DotLottieReact,tt as DotLottieWorkerReact,it as setWasmUrl};//# sourceMappingURL=index.js.map
//# sourceMappingURL=index.js.map